---
title: Linux命令 tr
date: 2016-01-12T15:30:01+08:00
update: 2016-09-27 17:18:56
categories: [linux_base]
tags: [tr]
---
tr用来从标准输入中通过替换或删除操作，进行字符转换。tr主要用于删除文件中控制字符或进行字符转换。使用tr时要转换两个字符串：字符串1用于查询，字符串2用于处理各种转换，tr刚执行时，字符串1中的字符被映射到字符串2中的字符，然后转换操作开始。

1、用法和选项
用法：

tr [选项]... SET1 [SET2]

说明：

tr命令用于从标准输入中替换、缩减和/或删除字符，并将结果写到标准输出。

选项：

-c, -C, --complement          首先补足SET1
-d, --delete                    删除匹配SET1 的内容，并不作替换
-s, --squeeze-repeats   如果匹配于SET1 的字符在输入序列中存在连续的重复，在替换时会被统一缩为一个字符的长度
-t, --truncate-set1       先将SET1 的长度截为和SET2 相等
--help                            显示此帮助信息并退出
--version                       显示版本信息并退出
2、SET字符串

SET 是一组字符串，一般都可按照字面含义理解。解析序列如下：

\NNN          #八进制值为NNN 的字符(1 至3 个数位)   
\\            #反斜杠   
\a            #终端鸣响   
\b            #退格   
\f            #换页   
\n            #换行   
\r            #回车   
\t            #水平制表符   
\v            #垂直制表符   
字符1-字符2    #从字符1 到字符2 的升序递增过程中经历的所有字符   
[字符*]       #在SET2 中适用，指定字符会被连续复制直到吻合设置1 的长度   
[字符*次数]    #对字符执行指定次数的复制，若次数以 0 开头则被视为八进制数   
[:alnum:]     #所有的字母和数字   
[:alpha:]     #所有的字母   
[:blank:]     #所有呈水平排列的空白字符   
[:cntrl:]     #所有的控制字符   
[:digit:]     #所有的数字   
[:graph:]     #所有的可打印字符，不包括空格   
[:lower:]     #所有的小写字母   
[:print:]     #所有的可打印字符，包括空格   
[:punct:]     #所有的标点字符   
[:space:]     #所有呈水平或垂直排列的空白字符   
[:upper:]     #所有的大写字母   
[:xdigit:]    #所有的十六进制数   
[=字符=]       #所有和指定字符相等的字符  
注意：

1、仅在SET1 和SET2 都给出，同时没有-d 选项的时候才会进行替换。

2、仅在替换时才可能用到-t 选项。如果需要SET2 将被通过在末尾添加原来的末字符的方式补充到同SET1 等长。SET2 中多余的字符将被省略。

3、只有[:lower:] 和[:upper:]以升序展开字符；在用于替换时的SET2 中以成对表示大小写转换。

4、-s 作用于SET1，既不替换也不删除，否则在替换或展开后使用SET2 缩减。
tr示例：
1、将文件file中出现的"abc"替换为"xyz"

# cat file | tr "abc" "xyz" > new_file

【注意】这里，凡是在file中出现的"a"字母，都替换成"x"字母，"b"字母替换为"y"字母，"c"字母替换为"z"字母。而不是将字符串"abc"替换为字符串"xyz"。



2、使用tr命令“统一”字母大小写

（小写 --> 大写）
# cat file | tr [a-z] [A-Z] > new_file

（大写 --> 小写）
# cat file | tr [A-Z] [a-z] > new_file



3、把文件中的数字0-9替换为a-j

# cat file | tr [0-9] [a-j] > new_file



4、删除文件file中出现的"Snail"字符

# cat file | tr -d "Snail" > new_file

【注意】这里，凡是在file文件中出现的'S','n','a','i','l'字符都会被删除！而不是紧紧删除出现的"Snail”字符串。



5、删除文件file中出现的换行'\n'、制表'\t'字符

# cat file | tr -d "\n\t" > new_file

不可见字符都得用转义字符来表示的，这个都是统一的。



6、删除“连续着的”重复字母，只保留第一个

# cat file | tr -s [a-zA-Z] > new_file



7、删除空行

# cat file | tr -s "\n" > new_file



8、删除Windows文件“造成”的'^M'字符

# cat file | tr -d "\r" > new_file
或者
# cat file | tr -s "\r" "\n" > new_file
1. 用 \n 替换 \r
2. 压缩 \n 只保留一个空行
【注意】这里-s后面是两个参数"\r"和"\n"，用后者替换前者



9、用空格符\040替换制表符\011

# cat file | tr -s "\011" "\040" > new_file



10、把路径变量中的冒号":"，替换成换行符"\n"

# echo $PATH | tr -s ":" "\n"
